<!DOCTYPE html>
<html>
<head>
    <title>Voice Recognition System</title>
    <link rel="stylesheet" href="/css/styles.css"/>
    <!-- Add any necessary CSS and JavaScript files -->
</head>

<body>
    <nav class="navbar">    <!--See .navbar in styles.css-->
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="#">Our team</a></li>
          <li><a href="#">Projects</a></li>
          <li><a href="#">Contact</a></li>
          <li>
            <form>
                <input type="search" name="q" placeholder="Search site" />
                <input type="submit" value="Go!" />
            </form>
           </li>
        </ul>
    </nav>

    <aside class="sidebar">   <!-- Sidebar -->
        <a href="#voicertotext">1. Voice to Text</a>
        <a href="#sendtexttochatbottorespond">2. Send Text to Chatbot to respond</a>
    </aside>

    <article style="margin-left:200px;">
        <h3 id="voicertotext">1. Voice to Text. Speak in Mic and print in text</h3>

            <dl><strong>1. Create & Start the Virtual Env</strong></dl>
            <pre>
// Create a new environment named virtual_avatar, install Python 3.11.5
cmd>
C:\Users\amitk\source\repos\Python\ML>C:\Users\amit\miniconda3\Scripts\conda create --name virtual_avatar python=3.11.5

// Activate venv
c:\Users\amit\miniconda3\envs>c:\Users\amit\miniconda3\Scripts\activate virtual_avatar
            </pre>

            <dl><strong>2. Install voice recognition system with Python(SpeechRecognition, PyAudio)</strong></dl>
            <pre>
(virtual_avatar) c:\Users\amit\miniconda3\envs>pip install SpeechRecognition
..
(virtual_avatar) c:\Users\amit\miniconda3\envs>pip install PyAudio
..
ERROR: Could not build wheels for pyaudio which use PEP 517 and cannot be installed directly
            </pre>

            <dt><strong>if pyaudio is not installed, try installing using pipwin</strong></dt>
            <pre>
(virtual_avatar) c:\Users\amit\miniconda3\envs>conda install portaudio
(virtual_avatar) c:\Users\amit\miniconda3\envs>pip install pipwin
(virtual_avatar) c:\Users\amit\miniconda3\envs>pipwin install pyaudio
..
Successfully installed PyAudio-0.2.11
            </pre>

            <dl><strong>3. Run this 
                <a href="https://reintech.io/blog/how-to-create-a-voice-recognition-system-with-python">code</a></strong></dl>
                <pre>
                    import speech_recognition as sr

                    recognizer = sr.Recognizer()
                    
                    def capture_voice_input():
                        with sr.Microphone() as source:
                            print("Listening...")
                            audio = recognizer.listen(source)
                        return audio
                        
                    def convert_voice_to_text(audio):
                        try:
                            text = recognizer.recognize_google(audio)
                            print("You said: " + text)
                        except sr.UnknownValueError:
                            text = ""
                            print("Sorry, I didn't understand that.")
                        except sr.RequestError as e:
                            text = ""
                            print("Error; {0}".format(e))
                        return text
                    
                    def process_voice_command(text):
                        if "hello" in text.lower():
                            print("Hello! How can I help you?")
                        elif "goodbye" in text.lower():
                            print("Goodbye! Have a great day!")
                            return True
                        else:
                            print("I didn't understand that command. Please try again.")
                        return False
                        
                    def main():
                        end_program = False
                        while not end_program:
                            audio = capture_voice_input()
                            text = convert_voice_to_text(audio)
                            end_program = process_voice_command(text)
                    
                    if __name__ == "__main__":
                        main()

(virtual_avatar) c:\Users\amit\miniconda3\envs>cd c:\go-here\Code\python\virtual_avatar
(virtual_avatar) c:\go-here\Code\python\virtual_avatar>python code.py
Listening ..
                </pre>

            <h3 id="sendtexttochatbottorespond">
                <a href="https://platform.openai.com/docs/api-reference/authentication">2. Send Text to Chatbot to respond</a></h3>
                <dl><strong><a href="https://platform.openai.com/api-keys">a. Get API Key</a></strong></dl>
                <dl><strong>b. Call/Check openai APIs using <a href="https://web.postman.co/workspace/openai">Postman</a></strong></dl>
                <pre>
GET https://api.openai.com/v1/models
Header
    Authorization: Bearer API_KEY

POST https://api.openai.com/v1/chat/completions
Header
    Authorization: Bearer API_KEY
Body
    {
        "model": "gpt-3.5-turbo",
        "messages": [{"role": "user", "content": "What is capital of France?"}],
        "temperature": 0.7
    }    
                </pre>

            <dl><strong>c. Calling APIs using code</strong></dl>
            <dt><strong>Install openai</strong></dt>
            <pre>
(virtual_avatar) c:\go-here\Code\python\virtual_avatar>pip install openai
            </pre>
            
            <dt><strong>Set API Key in User environment variable</strong></dt>
            <pre>
OPENAI_API_KEY = value
            </pre>

            <dt><strong>Calling APIs from code</strong></dt>
            <pre>
from openai import OpenAI

def get_chatgpt_response():
    client = OpenAI()
    completion = client.chat.completions.create(
        model="gpt-3.5-turbo",
        messages=[
            {"role": "system", "content": 
                "You are a poetic assistant, skilled in explaining complex programming concepts with creative flair."},
            {"role": "user", "content": 
                "Compose a poem that explains the concept of recursion in programming."}
        ]
    )

OR

def get_chatgpt_response():
    client = OpenAI()
    completion = client.chat.completions.create(
        model="gpt-3.5-turbo",
        messages=[
            {
                "role": "user",
                "content": "What's Capital of Russia?"
            }
        ]
    )
    print(completion.choices[0].message)        //Moscow

get_chatgpt_response()
            </pre>

    </article>

</body>
</html>
